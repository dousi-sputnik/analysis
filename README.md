# ABCanalysis

# URL
https://analysis-by-abc-de031c7dc9a1.herokuapp.com/

# ER図
<img width="500" alt="スクリーンショット 2023-10-10 15 56 26" src="https://github.com/dousi-sputnik/analysis/assets/97434344/f3325d12-d134-4942-99c3-b3cffff95b5c">

# 概要
当サイトはABC分析に基づいた商品在庫管理を容易にするためのシステムを提供します。
具体的には以下のことが可能です。
  1. Excel(numbersなど)のシートからコピー&ペーストすることで、バラバラの情報を売上高の高い順から降順に出力されます。
  2. 出力したABC分析はExcel形式でダウンロード可能です。
  3. 最大500行まで入力することができます。またABC分析表の保存も最大5つまで可能で、ネット環境があればいつでも結果を確認することができます。
  4. YahooAPIと連携しているため出力されたJANコードを直接クリック(もしくは検索画面に半角数字で直接入力)することで商品の概要の情報を取得できます。またそのページからYahooショッピングの該当商品へのリンクもあります。

# 使用技術

 | 使用技術              |
 | ---------------------|
 | Ruby 3.2.2           |
 | Ruby on Rails 6.1.7  |
 | MySQL 8.0            |
 | Puma                 |
 | AWS S3               |
 | Docker/Docker-compose |
 | CircleCI CI/CD       |
 | RSpec                |
　　| Yahoo! JAPAN Web API 

# 機能一覧
  | 主なライブラリ | 詳細 |
  | ----------- | ---- |
   | devise | ユーザー関連 |
   | httparty | 自動的にJSON・XMLを解析し、Rubyのハッシュに変換 |
   | caxlsx/caxlsx_rails | Excelファイル出力 |

# テスト
| 使用ライブラリ  | RSpec |
| -----------  | ----- |
|　実装内容   | 単体テスト(modle) |
|   |　　機能テスト(request) |
|   | 統合テスト(system) |

# 構文チェック
 | 使用ライブラリ | 詳細 |
 | ----- | ----- |
 | rubocop(rubocop-airbnb) | 指定したフォルダ内およびファイルのコードチェック |

# 使用例

1. 上記URLから当サイトのトップページへ遷移する
2. ゲストログイン機能を使いABC分析ページへ遷移し、「ABC分析開始」ボタンをクリック
3. タイトルと説明文をそれぞれ最低1文字以上入力後、下記スプレッドシートを左上(493301219583)から右下(3)まで選択してコピーしといたものを「Excelデータペーストエリア」へペースト。その後「ABC分析表を出力」ボタンをクリック
4. ABC分析表が出力されるので、Excel形式でのダウンロードやJanコードから商品詳細ページへ遷移できる。最後にヘッダーメニューにあるlogoutか「一覧表へ戻る」ボタンで終了

4903301219583 | おふろの防カビくん煙剤せっけんの香り | 1
-- | -- | --
4903301221043 | おふろの防カビくん煙剤せっけんの香り３個パック | 11
4533213683679 | カビダッシュ防カビ・バイオバスター | 7
4533213684485 | カビダッシュ壁ピタッ！ゲルスプレー | 17
4973007315582 | ドクターデオお風呂の防カビ詰替 | 1
4901609015067 | カビキラー詰替６５０ｇ | 0
4901609015043 | カビキラー本体６５０ｇ | 0
4901609000148 | カビキラー特大１０００Ｇ | 4
4901609000155 | カビキラーつけ替１０００Ｇ | 5
4901301224293 | 強力カビハイターハンディスプレー特大 | 5
4901301224309 | 強力カビハイターつけかえ用特大 | 13
4516825005084 | お部屋のカビ取りクリーナー１８０ｍｌ | 3
4903320041578 | 黒カビくんカビとりジェル | 2
4901301283429 | 強力カビハイター本体＋付替×２ | 8
4987072063729 | かんたん洗浄丸小粒８袋 | 4
4901609000926 | パイプユニッシュ凝縮パワージェル | 4
4901080686312 | らくハピバブルーンマッハ泡排水管 | 6
4901609002449 | パイプユニッシュ８００ｍｌ | 6
4989409089037 | 泡のジェット噴流排水管キレイ２８０ｍｌ | 14
4987072025772 | かんたん洗浄丸お徳用２０錠 | 7
4903301326458 | パイプマンスムースジェル１０００ｍＬ | 8
4903339116014 | ウルトラハードクリーナーパイプ用５００ｇ | 9
4536735365269 | パイプクリアジェル２Ｌ | 1
4987072124901 | かんたん洗浄丸 | 7
4989409076341 | 排水管一発洗浄２０ｇ×４袋 | 3

