# ABCanalysis

# URL
https://analysis-by-abc-de031c7dc9a1.herokuapp.com/

# ER図
<img width="500" alt="スクリーンショット 2023-10-10 15 56 26" src="https://github.com/dousi-sputnik/analysis/assets/97434344/f3325d12-d134-4942-99c3-b3cffff95b5c">

# 概要
当WebAppの特徴を一言で表すと

 ### 「スマホで商品在庫管理が容易になる」

です。
このアプリではABC分析という「売上高や在庫」に評価軸を絞り、多い順にA B Cと3つのグループ分けし、優先度(Aが最高）を決める　という理論を簡単に作成できることが特徴です。
具体的には以下のことが可能です。
  1. Excel(numbersなど)のシートからコピー&ペーストすることで、バラバラの情報を売上高の高い順から降順に出力されます。
  2. 出力したABC分析はExcel形式でダウンロード可能です。
  3. 最大500行まで入力することができます。またABC分析表の保存も最大5つまで可能で、ネット環境があればいつでも結果を確認することができます。
  4. YahooAPIと連携しているため出力されたJANコードを直接クリック(もしくは検索画面に半角数字で直接入力)することで商品の概要の情報を取得できます。またそのページからYahooショッピングの該当商品へのリンクもあります。
  5. 必要に応じて、各分析表に紐付けされたレポートを作成することが可能です。レポートを見ることで、分析表の内容を言葉で落とし込み、在庫管理をより容易にさせます。

# ABC分析表の用語の説明
  | 売上高　 | その商品の売上高を示しています。 |
  | 累計売上高 | 分析表に入力された全ての商品を上から順番に足し算した数が表示されます。一番下に表示される数はこの分析表の合計の総売上高を表します。これにより「どの商品が総売上高の何千何万何億円占めているかが可視化されます |
  

# 使用技術

 | 使用技術              |
 | ---------------------|
 | Ruby 3.2.2           |
 | Ruby on Rails 6.1.7  |
 | MySQL 8.0            |
 | Puma                 |
 | AWS S3               |
 | Docker/Docker-compose |
 | CircleCI CI/CD       |
 | RSpec                |
　　| Yahoo! JAPAN Web API |

# 機能一覧
  | 主なライブラリ | 詳細 |
  | ----------- | ---- |
   | devise | ユーザー登録・ログイン機能 |
   | httparty | 自動的にJSON・XMLを解析し、Rubyのハッシュに変換 |
   | caxlsx/caxlsx_rails | Excelファイル出力 |
   | aws-sdk | awsサービス利用のためのプログラム |
   | dotenv-rails | 環境変数管理 |
   | devise/rails-i18n | メッセージ等の日本語化 |
   | cancancan | 権限管理 |

# テスト
| 使用ライブラリ  | RSpec |
| -----------  | ----- |
|　実装内容   | 単体テスト(modle) |
|   |　機能テスト(request) |
|   | 統合テスト(system) |
|   | webmock |
|   | 外部APIのテスト |

# 構文チェック
 | 使用ライブラリ | 詳細 |
 | ----- | ----- |
 | rubocop(rubocop-airbnb) | 指定したフォルダ内およびファイルのコードチェック |

# ゲストログインでABC分析

4903301219583 | おふろの防カビくん煙剤せっけんの香り | 1
-- | -- | --
4903301221043 | おふろの防カビくん煙剤せっけんの香り３個パック | 11
4533213683679 | カビダッシュ防カビ・バイオバスター | 7
4533213684485 | カビダッシュ壁ピタッ！ゲルスプレー | 17
4973007315582 | ドクターデオお風呂の防カビ詰替 | 1
4901609015067 | カビキラー詰替６５０ｇ | 0
4901609015043 | カビキラー本体６５０ｇ | 0
4901609000148 | カビキラー特大１０００Ｇ | 4
4901609000155 | カビキラーつけ替１０００Ｇ | 5
4901301224293 | 強力カビハイターハンディスプレー特大 | 5
4901301224309 | 強力カビハイターつけかえ用特大 | 13
4516825005084 | お部屋のカビ取りクリーナー１８０ｍｌ | 3
4903320041578 | 黒カビくんカビとりジェル | 2
4901301283429 | 強力カビハイター本体＋付替×２ | 8
4987072063729 | かんたん洗浄丸小粒８袋 | 4
4901609000926 | パイプユニッシュ凝縮パワージェル | 4
4901080686312 | らくハピバブルーンマッハ泡排水管 | 6
4901609002449 | パイプユニッシュ８００ｍｌ | 6
4989409089037 | 泡のジェット噴流排水管キレイ２８０ｍｌ | 14
4987072025772 | かんたん洗浄丸お徳用２０錠 | 7
4903301326458 | パイプマンスムースジェル１０００ｍＬ | 8
4903339116014 | ウルトラハードクリーナーパイプ用５００ｇ | 9
4536735365269 | パイプクリアジェル２Ｌ | 1
4987072124901 | かんたん洗浄丸 | 7
4989409076341 | 排水管一発洗浄２０ｇ×４袋 | 3

 ## 1. 上記URL( https://analysis-by-abc-de031c7dc9a1.herokuapp.com/ )から当サイトのトップページへ遷移する
    
 <img width="500" alt="スクリーンショット 2023-10-14 11 00 50" src="https://github.com/dousi-sputnik/analysis/assets/97434344/aec4ec87-1301-4868-b4b9-c54ddf513561"> 
 
 ## 2.  ゲストログイン機能を使いABC分析ページへ遷移し、「ABC分析開始」ボタンをクリック

 <img width="500" alt="スクリーンショット 2023-10-14 11 01 13" src="https://github.com/dousi-sputnik/analysis/assets/97434344/01c5817d-5208-4afe-a093-4bb194c5b44d">  
 
## 3. タイトルと説明文をそれぞれ最低1文字以上入力後、下記スプレッドシートを左上(493301219583)から右下(3)まで選択してコピーしといたものを「Excelデータペーストエリア」へペースト。その後「ABC分析表を出力」ボタンをクリック

  <img width="500" alt="スクリーンショット 2023-10-14 11 02 23" src="https://github.com/dousi-sputnik/analysis/assets/97434344/b264dd97-318d-4d0d-8ace-13c977398636">

  <img width="500" alt="スクリーンショット 2023-10-14 11 03 06" src="https://github.com/dousi-sputnik/analysis/assets/97434344/88bde802-c30d-4975-a64f-955ee90660b7">

  <img width="500" alt="スクリーンショット 2023-10-14 11 03 42" src="https://github.com/dousi-sputnik/analysis/assets/97434344/00e30b57-894f-43a2-8d8e-a5a75a5a31d7">

  <img width="500" alt="スクリーンショット 2023-10-14 11 04 01" src="https://github.com/dousi-sputnik/analysis/assets/97434344/624ddef9-7193-4849-9eb0-3c15f736c0a0">

## 4. ABC分析表が出力されるので、Excel形式でのダウンロードやJanコードから商品詳細ページへ遷移できる。最後にヘッダーメニューにあるlogoutか「一覧表へ戻る」ボタンで終了

   <img width="500" alt="スクリーンショット 2023-10-14 11 04 29" src="https://github.com/dousi-sputnik/analysis/assets/97434344/2042287c-ef47-40b2-8aec-dc8bfef5ac18">

   ### 「Excelでダウンロード」ボタンをクリックでシートをダウンロード(画像はNumbers)

  <img width="500" alt="スクリーンショット 2023-10-14 11 05 18" src="https://github.com/dousi-sputnik/analysis/assets/97434344/c006ba20-ab98-428b-aea7-b12e7fcc5067">

  ### Janコードをクリックすると商品詳細ページへ遷移(上部のJanコードを検索欄での入力でも遷移します)

  <img width="500" alt="スクリーンショット 2023-10-14 11 05 56" src="https://github.com/dousi-sputnik/analysis/assets/97434344/2efb7483-eb8b-4265-8aca-e2bce2aafe33">

  ### 最後は画面上部の 「Logout」で最初のトップページへ戻れます。

  <img width="500" alt="スクリーンショット 2023-10-14 11 06 11" src="https://github.com/dousi-sputnik/analysis/assets/97434344/4e9ac0f2-1274-40e9-a3d9-ab0c2737060d">


  ## レポート作成機能も実装しました。

  ### 操作はABC分析ページの下部から「分析レポートを作成する」リンクをクリック

  <img width="500" alt="スクリーンショット 2023-10-17 13 06 23" src="https://github.com/dousi-sputnik/analysis/assets/97434344/1fd5d4a5-8da9-4d81-8d30-f2e0e3b9bb0f">

  ### レポート作成画面に遷移するので、分析表を閲覧しながらレポートの作成が可能です。

<img width="500" alt="スクリーンショット 2023-10-17 13 06 45" src="https://github.com/dousi-sputnik/analysis/assets/97434344/4aba8117-e9dd-4e05-858d-63a815b39953">

  ### 各項目を書き終えたら「レポートを保存」ボタンをクリック

<img width="500" alt="スクリーンショット 2023-10-17 13 09 22" src="https://github.com/dousi-sputnik/analysis/assets/97434344/8f94345b-3d79-463f-ac65-7b98a44cbced">

 ### レポートが表示されます。必要ならexcel形式でのダウンロードも可能ですし、修正も可能です。

  <img width="500" alt="スクリーンショット 2023-10-17 13 09 37" src="https://github.com/dousi-sputnik/analysis/assets/97434344/7de52ba2-8ed4-4ea1-984d-206d56c24728">



# 開発の経緯
  現職はホームセンターの売り場担当者ですが、下記の動機があり当サイトの制作を行いました。
  
  「スマートフォンですぐに分析結果を閲覧したい　商品名だけで商品のイメージが浮かばなければ即検索したい」
  
  理由としては商品の在庫分析を紙で出力すると嵩張りますし(一回の出力で両面にしても20枚ほど)、売上などが載っている機密情報(もちろん見本の表の売り上げの数字は適当です)もあるため文書の管理という業務も追加されてしまいます。
  しかし、スマホで管理することができればその手間がなくなります。
  また、上記見本は日用品なので商品名を見ればどのような商品かは想像が容易ですが、現在の担当が金物になるので、そうすると商品名だけだとイマイチ想像できないものがあります。
  そこでYahooからすぐに情報を取得できるようにJanコードで検索をかけれるように機能をつけました。
